
# Oppdatering v4.40.0 - Greedy XML Extraction

Denne oppdateringen løser det kritiske problemet der kandidatnummer i Word-dokumenter ble oversett fordi de lå i dokumentets XML-headers/footers, eller ble feiltolket av KI-en.

### Endringer:
*   **Greedy XML Crawler**: Systemet bruker nå en dypere skanningsmetode som henter tekst fra *alle* header- og footer-filer i Word-arkivet. Dette fanger opp data som Mammoth normalt ignorerer.
*   **Greedy ID-Hunter**: Instruksene til Gemini 3 Pro er forsterket til å prioritere tall i den nye metadata-seksjonen. Modellen er nå programmert til å være mer "greedy" etter kandidatnummer øverst i dokumentet.
*   **Deep Fragment Reassembly**: Forbedret måten XML-noder blir limt sammen på, slik at ord som er splittet av intern Word-formatering (f.eks. fet skrift midt i et ord) blir gjenkjent korrekt.
*   **Forsterket Individualization**: Hver ukjent fil får nå en helt unik container i Kontroll-modulen (f.eks. "Ukjent (filnavn.docx)"), noe som hindrer at flere uidentifiserte elever havner i samme boks.
*   **Automatic ID Sanitization**: Systemet vasker nå ID-feltet mer aggressivt for å fjerne tekststøy, noe som sikrer perfekt gruppering når ID-en faktisk finnes.

### Teknisk:
*   Implementert `extractWordMetadata` i `fileService.ts` med JSZip.
*   Oppdatert `analyzeTextContent` i `geminiService.ts` med `thinkingBudget` på 12000.
*   Lagt til krav om "Greedy XML Extraction" i `TECHNICAL_STANDARD.md`.
