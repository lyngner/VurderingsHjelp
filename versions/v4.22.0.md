
# Oppdatering v4.22.0 - Anti-Degeneration & A3 Fix

Denne oppdateringen løser de gjentagende problemene med A3-splitting og innfører et system for å forhindre at fremtidige oppdateringer ødelegger fungerende kjernefunksjonalitet.

### Endringer:
*   **Rotate-then-Bisect Algoritme**: Fullstendig overhaling av `fileService.ts`. Systemet utfører nå en fysisk piksel-rotasjon *før* det foretar et 50/50 kutt. Dette sikrer at skråstilte eller roterte skanninger blir delt korrekt.
*   **Teknisk Standard-dokumentasjon**: Opprettet `TECHNICAL_STANDARD.md`. Dette dokumentet fungerer som en instruksjonsmanual for KI-en for å hindre at den foreslår suboptimal kode eller fjerner kritiske algoritmer (regresjonsvern).
*   **Inline Code-Guards**: Lagt til kommentarer i kildekoden som eksplisitt advarer mot å endre rekkefølgen på bildebehandlingsstegene.
*   **Strammere Gemini-instruks**: Gemini 3 Pro er nå programmert til å prioritere orientering og layout-deteksjon som de første stegene i sin analyse-pipeline.
*   **Full Resolution Splitting**: Sikret at splitting av A3-ark skjer med 95% JPEG-kvalitet for å bevare elevens håndskrift best mulig.

### Teknisk:
*   Integrert `processImageRotation` direkte inn i `splitA3Spread`.
*   Innførte `TECHNICAL_STANDARD.md` i prosjektroten.
*   Oppdatert `README.md` med strengere krav til regresjonsvern.
