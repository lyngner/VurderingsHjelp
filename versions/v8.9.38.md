
# Oppdatering v8.9.38 - Deep CAS & Timeout Balance

Denne oppdateringen l√∏ser kritiske mangler ved transkribering av matematikk fra Word-dokumenter og balanserer tidsfristene.

### üõ°Ô∏è Endringer:

1.  **Deep CAS Rescue (XML Attributes)**:
    *   **Problemet:** Koden som hentet matematikk fra Word-filer klarte ikke √• lese innholdet hvis det var "skjult" bak komplekse XML-attributter (f.eks. `xml:space="preserve"`). Dette f√∏rte til at formler som `f(x)=...` i tabeller forsvant.
    *   **L√∏sningen:** Oppdatert regex-motoren i `fileService.ts` til √• ignorere attributter og hente ut all tekst innenfor `<m:t>`-tagger. Dette sikrer at matematikken blir med til KI-en.

2.  **Tvungen Synlighet (Critical Evidence)**:
    *   Prompten til Gemini er oppdatert med en streng instruks om at matematikk funnet i XML-headeren er **"CRITICAL EVIDENCE"**.
    *   KI-en er n√• p√•lagt √• rekonstruere dette innholdet i `visualEvidence`-feltet (den gr√• boksen), slik at l√¶reren kan se utregningen.

3.  **Balanserte Tidsfrister**:
    *   **AI-analyse:** Redusert fra 10 minutter til **4 minutter (240s)**. Dette er nok for tunge filer, men hindrer at appen l√•ses helt ved feil.
    *   **Lokal innlesing:** Redusert fra 120s til **60s**. Hvis nettleseren bruker mer enn 1 minutt p√• √• pakke ut en fil, er filen sannsynligvis korrupt eller for stor for minnet.

### Teknisk:
*   Oppdatert `extractRawMathFromXML` regex.
*   Oppdatert `analyzeTextContent` instruks.
*   Systemversjon: **v8.9.38**.
