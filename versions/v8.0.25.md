
# Oppdatering v8.0.25 - Global ID Sanitization & Stutter Guard

Denne oppdateringen l√∏ser problemet der oppgaver fikk navn som "11a", "22b" (stotring) i tabellhodet og p√• elevkortene, noe som forhindret matching og badges.

### üõ°Ô∏è Kritiske endringer:

1.  **Universal ID Sanitizer (`sanitizeTaskId`)**:
    *   En ny, sentral funksjon som vasker alle oppgave-IDer.
    *   Fjerner st√∏y (spesialtegn, mellomrom).
    *   Fikser stotring (11 -> 1, 22a -> 2a, aa -> a).
    *   Denne kj√∏res n√• p√• B√ÖDE rettemanualen og elevbesvarelsene f√∏r lagring.

2.  **Rettemanual-vask**:
    *   Systemet tvinger n√• denne vasken p√• alle kriterier i fasiten. Dette sikrer at tabellhodet i resultatoversikten blir rent (f.eks. "1a" i stedet for "11a").

3.  **Robust Matrix Matching**:
    *   Resultattabellen bruker n√• sanitert matching. Selv om det skulle snike seg inn sm√• ulikheter i databasen, vil systemet n√• klare √• koble elevens poeng til riktig kolonne i tabellen.

### Hvorfor forsvant badgene?
*   N√•r fasiten hadde navnet "11a", men eleven hadde "1a", feilet sjekken "finnes oppgaven i fasiten?". Dermed ble oppgaven filtrert bort. N√• vaskes begge til "1a" f√∏r sammenligning.

### Teknisk:
*   Lagt til `sanitizeTaskId` i `geminiService.ts`.
*   Oppdatert `filterTasksAgainstRubric`, `generateRubricFromTaskAndSamples` og `improveRubricWithStudentData`.
*   Oppdatert `ResultsStep.tsx` med vasket sammenligningslogikk.
*   Systemversjon: **v8.0.25**.
