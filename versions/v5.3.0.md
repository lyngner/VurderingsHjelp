# Oppdatering v5.3.0 - Strict Architecture Restoration

Denne oppdateringen markerer en kritisk gjenoppretting av systemets kjernefunksjonalitet etter en periode med funksjonell degenerasjon. Vi har re-etablert standardene fra v4.22.0 som appens "tekniske bibel".

### üõ°Ô∏è Kritiske Arkitektoniske Gjenopprettinger:

1.  **Rotate-then-Bisect (Geometrisk Integritet)**:
    *   Problemet med skjeve splitter er l√∏st ved √• tvinge en **fysisk piksel-rotasjon** (via Canvas API) *f√∏r* det foretas et matematisk 50/50 kutt.
    *   Dette garanterer at roterte A3-skanninger blir til to perfekte, loddrette A4-sider.
    *   Alle operasjoner skjer i **95% JPEG-kvalitet** for √• bevare elevens h√•ndskrift.

2.  **A3 Force-Split**:
    *   Landskapsbilder (bredere enn de er h√∏ye etter rotasjon) blir n√• diktatorisk behandlet som `A3_SPREAD`.
    *   KI-en tvinges til √• returnere to objekter (LEFT/RIGHT), noe som eliminerer "AI-lathet" der sider ble hoppet over.

3.  **Badge-sanitering (v5.3 Standard)**:
    *   Alle UI-badges (oppgave-merker) er renset for tekstst√∏y som "Oppgave" eller "Del".
    *   De viser n√• kun rene ID-er (f.eks. "1A", "4B"). Dette hindrer at tekst flyter utenfor sirklene og √∏delegger layouten.

4.  **Pedagogisk Vertikal Matematikk**:
    *   Re-innf√∏rt tvang om bruk av LaTeX `aligned`-milj√∏er for alle utregninger over ett ledd.
    *   Dette sikrer at likhetstegn st√•r vertikalt under hverandre, noe som er avgj√∏rende for lesbarhet.

5.  **Regresjonsvern (Technical Standard)**:
    *   `TECHNICAL_STANDARD.md` er oppdatert og fungerer n√• som en hard kravspesifikasjon som KI-en m√• lese f√∏r hver eneste endring.

### Teknisk Implementering:
*   Integrert `processImageRotation` direkte inn i `splitA3Spread`.
*   Innf√∏rte atomiske oppdateringer i `useProjectProcessor.ts` for √• hindre tap av kandidatdata ved rask prosessering.
*   Oppdatert `geminiService.ts` med forsterket `thinkingBudget` for layout-deteksjon.