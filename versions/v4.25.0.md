
# Oppdatering v4.25.0 - Atomic Synchronization Fix

Denne oppdateringen løser bugen der elevbesvarelser ble liggende som "klar" i køen uten å faktisk bli flyttet til kandidatlisten, til tross for at telleren viste aktivitet.

### Endringer:
*   **Atomic State Management**: Fullstendig refaktorert `useProjectProcessor.ts`. Alle endringer skjer nå via funksjonelle oppdateringer (`prev => ...`), noe som eliminerer race conditions der flere parallelle prosesser overskrev hverandres endringer.
*   **Sequential Batch Processing**: Systemet prosesserer nå elevfiler én etter én for maksimal stabilitet i skrivingen til IndexedDB. Dette sikrer at databasen og brukergrensesnittet alltid er i synk.
*   **Forbedret useEffect-trigger**: Overvåkingen av prosesseringskøen er nå mer fintfølende og reagerer på innholdsendringer i listene, ikke bare lengden. Dette sørger for at systemet plukker opp hengende filer automatisk.
*   **Stale Closure Fix**: Asynkrone kall har ikke lenger tilgang til variabler fra ytre scope som kan endre seg underveis. Den nødvendige konteksten (som rettemanualen) låses nå ved batchens start.
*   **Ryddigere Importmap**: Renset `index.html` for overflødige react-referanser for å sikre en stabil runtime.

### Teknisk:
*   Innførte `useCallback` for kritiske update-funksjoner.
*   Lagt til krav om atomisk synkronisering i `TECHNICAL_STANDARD.md`.
*   Sikret at `integratePageResults` venter på DB-bekreftelse før den utfører den endelige tilstands-oppdateringen.
